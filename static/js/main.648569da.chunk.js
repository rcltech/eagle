(this.webpackJsonpeagle=this.webpackJsonpeagle||[]).push([[0],{85:function(e,a,t){e.exports=t(98)},98:function(e,a,t){"use strict";t.r(a);var n=t(28),r=t(0),l=t.n(r),o=t(12),i=t.n(o),c=t(133),u=t(152),m=t(141),s=t(142),g=t(145),d=t(144),b=t(140),f=t(146),E=t(149),h=t(143),p=t(138),O=t(52),k=t(66),j=t(53);function v(){var e=Object(k.a)(["\n  query bookings {\n    bookings {\n      start\n      end\n      room {\n        name\n      }\n      user {\n        email\n      }\n    }\n  }\n"]);return v=function(){return e},e}var w=Object(j.a)(v()),y=t(25),C=t(136),S=t(55),x=t.n(S),P=t(57),B=t.n(P),W=t(56),I=t.n(W),M=t(54),D=t.n(M),F=Object(c.a)((function(e){return Object(u.a)({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})})),z=function(e){var a=F(),t=Object(y.a)(),n=e.count,r=e.page,o=e.rowsPerPage,i=e.onChangePage;return l.a.createElement("div",{className:a.root},l.a.createElement(C.a,{onClick:function(e){i(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===t.direction?l.a.createElement(D.a,null):l.a.createElement(x.a,null)),l.a.createElement(C.a,{onClick:function(e){i(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===t.direction?l.a.createElement(I.a,null):l.a.createElement(B.a,null)),l.a.createElement(C.a,{onClick:function(e){i(e,r+1)},disabled:r>=Math.ceil(n/o)-1,"aria-label":"next page"},"rtl"===t.direction?l.a.createElement(B.a,null):l.a.createElement(I.a,null)),l.a.createElement(C.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/o)-1))},disabled:r>=Math.ceil(n/o)-1,"aria-label":"last page"},"rtl"===t.direction?l.a.createElement(x.a,null):l.a.createElement(D.a,null)))},N=t(76),T=t(150),q=t(99),J=t(139),R=t(73),A=t.n(R),L=t(74),$=t.n(L),_=t(72),G=t.n(_),H=Object(c.a)((function(e){return Object(u.a)({optionsButton:{height:"18px",width:"18px",marginRight:e.spacing(1)}})})),K=function(e){var a=H(),t=e.email,o=Object(r.useState)(null),i=Object(n.a)(o,2),c=i[0],u=i[1],m=Boolean(c),s=function(){u(null)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{"aria-label":"more","aria-controls":"more actions","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},size:"small"},l.a.createElement(G.a,null)),l.a.createElement(N.a,{id:"more actions",anchorEl:c,keepMounted:!0,open:m,onClose:s},l.a.createElement(T.a,{onClick:function(){alert("delete clicked"),s()}},l.a.createElement(A.a,{className:a.optionsButton}),l.a.createElement(q.a,{variant:"body2"},"Delete")),l.a.createElement(T.a,{onClick:s,component:J.a,color:"inherit",underline:"none",href:"mailto:".concat(t),target:"_blank",referrerPolicy:"no-referrer"},l.a.createElement($.a,{className:a.optionsButton}),l.a.createElement(q.a,{variant:"body2"},"Email user"))))},Q=Object(c.a)((function(e){return Object(u.a)({root:{width:"96vw",margin:"auto"}})})),U=function(e){return{room:e.room.name,start:e.start,end:e.end,actions:l.a.createElement(K,{email:e.user.email})}},V=[U({room:{name:"example room"},start:new Date,end:new Date,user:{email:"example user"}})],X=[{id:"room",label:"Booking room",minWidth:100},{id:"start",label:"Time in",minWidth:200,align:"center",format:function(e){return e.toISOString()}},{id:"end",label:"Time out",minWidth:200,align:"center",format:function(e){return e.toISOString()}},{id:"actions",label:"",minWidth:30,align:"right"}],Y=function(){var e=Q(),a=Object(r.useState)(0),t=Object(n.a)(a,2),o=t[0],i=t[1],c=Object(r.useState)(5),u=Object(n.a)(c,2),k=u[0],j=u[1],v=Object(r.useState)(V),y=Object(n.a)(v,2),C=y[0],S=y[1],x=Object(O.a)(w),P=x.data,B=x.loading,W=x.error;if(Object(r.useEffect)((function(){if(P&&P.bookings){var e=P.bookings.map((function(e){return U(e)}));S(e)}}),[P]),B)return l.a.createElement(l.a.Fragment,null,"loading");W&&console.log(W);return l.a.createElement(b.a,{component:p.a,classes:{root:e.root}},l.a.createElement(m.a,{size:"small","aria-label":"bookings table"},l.a.createElement(s.a,null,l.a.createElement(h.a,null,X.map((function(e){return l.a.createElement(d.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),l.a.createElement(g.a,null,C.slice(o*k,o*k+k).map((function(e,a){return l.a.createElement(h.a,{hover:!0,role:"checkbox",tabIndex:-1,key:a},X.map((function(a){var t=e[a.id];return l.a.createElement(d.a,{key:a.id,align:a.align},a.format&&"[object Date]"===Object.prototype.toString.call(t)?a.format(t):t)})))}))),l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(E.a,{rowsPerPageOptions:[5,10],count:C.length,rowsPerPage:k,page:o,onChangePage:function(e,a){i(a)},onChangeRowsPerPage:function(e){j(parseInt(e.target.value,10)),i(0)},ActionsComponent:z})))))},Z=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=t(151),ae=t(77),te=Object(ee.a)(Object(ae.a)({palette:{primary:{light:"#727394",main:"#464866",dark:"#1d213b"},secondary:{main:"#ef9a9a"},background:{default:"#fff"},error:{main:"#B00020"}}})),ne=t(147),re=t(148),le=t(42),oe=t(38),ie=t(21),ce=t(16),ue=t(75);i.a.render(l.a.createElement((function(){var e=Object(r.useState)(null),a=Object(n.a)(e,2),t=a[0],o=a[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("id"),a=new le.a({uri:"https://phoenix.rctech.club/graphql",headers:{authorization:e}}),t=new oe.a,n=new ie.a({cache:t,link:a});Object(ue.persistCache)({cache:t,storage:window.sessionStorage}).then((function(){return o(n)}))}),[]),t?l.a.createElement(ce.a,{client:t},l.a.createElement(ne.a,{theme:te},l.a.createElement(re.a,null),l.a.createElement(Z,null))):l.a.createElement(l.a.Fragment,null,"loading")}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[85,1,2]]]);
//# sourceMappingURL=main.648569da.chunk.js.map